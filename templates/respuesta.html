{% extends "base.html" %}

{% block title %}Resultado ¬∑ Reto Diario{% endblock %}

{% block extra_head %}
<style>
  :root{ --line:#e5e7eb; --muted:#6b7280; --ink:#111827; }

  /* Contenedor propio dentro de la card del base */
  .result-shell{
    max-width: 760px;
    margin: 0 auto;
  }

  /* Cabecera / mensaje */
  .result-shell h1{ margin:0 0 8px; }

  /* Bloque ‚Äúreveal‚Äù (mascota + bocadillo) */
  .reveal{
    display:flex; align-items:flex-start; gap:clamp(10px,2.5vw,20px);
    margin:8px 0 16px;
  }
  .mascota{
    width:clamp(72px,16vw,120px); height:auto;
    filter:drop-shadow(0 4px 10px rgba(0,0,0,.12));
    flex-shrink:0;
  }
  .bocadillo{
    flex:1; background:#fff; border:1px solid var(--line); border-radius:16px;
    padding:clamp(10px,2.2vh,16px) clamp(12px,2.6vw,18px);
    box-shadow:0 6px 24px rgba(2,6,23,.06);
    position:relative;
  }
  .bocadillo::before{
    content:""; position:absolute; left:-10px; top:18px; width:0; height:0;
    border-style:solid; border-width:10px 10px 10px 0; border-color:transparent var(--line) transparent transparent;
  }
  .bocadillo::after{
    content:""; position:absolute; left:-8px; top:20px; width:0; height:0;
    border-style:solid; border-width:8px 8px 8px 0; border-color:transparent #fff transparent transparent;
  }
  .big{ font-weight:800; margin:0 0 6px; }
  .correctas{ margin:.25rem 0 .25rem 1rem; padding:0; }
  .correctas li{ list-style:none; margin:2px 0; color:#065f46; font-weight:700; }

  /* Fun fact */
  .funfact{
    display:flex; gap:12px; align-items:flex-start;
    background:#f8fafc; border:1px solid var(--line);
    border-radius:14px; padding:12px 14px; margin-top:10px;
  }
  .ff-icon{ font-size:1.3rem; line-height:1; }
  .ff-title{ font-weight:800; margin-bottom:2px; }
  .ff-text{ color:#334155; }

  /* Acciones: usa tus .btn; grid responsivo */
  .actions{
    display:grid; gap:10px; margin-top:16px;
    grid-template-columns: 1fr;
  }
  .actions .btn{ border-radius:12px; }
  @media (min-width:720px){
    .actions{ grid-template-columns: 1fr 1fr 1fr; }
  }

  /* Responsive */
  @media (max-width:560px){
    .reveal{ flex-direction:column; align-items:center; }
    .bocadillo::before, .bocadillo::after{ display:none; }
  }
</style>
{% endblock %}

{% block content %}
<div class="result-shell">
  <h1>{% if correcto %}‚úÖ ¬°Correcto!{% else %}‚ùå No era esa‚Ä¶{% endif %}</h1>

  <div class="reveal">
    <img class="mascota" src="{{ url_for('static', filename='img/ATPPet-nerd-180.png') }}" alt="Mascota">
    <div class="bocadillo">
      {% if correcto %}
        <p class="big">¬°Bien hecho! üëè</p>
      {% else %}
        <p class="big">La respuesta correcta es:</p>
      {% endif %}
      <ul class="correctas">
        {% for t in correctas %}
          <li>‚úî {{ t }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>

  {% if fun_fact %}
  <div class="funfact">
    <div class="ff-icon">üí°</div>
    <div>
      <div class="ff-title">Dato curioso</div>
      <div class="ff-text">{{ fun_fact }}</div>
    </div>
  </div>
  {% endif %}

  <div class="actions">
    <a class="btn primary-btn" href="{{ url_for('resultados.ver_resultados') }}">
      <i class="fa-solid fa-ranking-star"></i> Ver clasificaci√≥n
    </a>
    <a class="btn secondary-btn" href="{{ url_for('index') }}">
      <i class="fa-solid fa-house"></i> Inicio
    </a>
  </div>
</div>
{% endblock %}
